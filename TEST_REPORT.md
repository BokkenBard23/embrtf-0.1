# –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ CallCenter AI v3

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—ç—Ç–∞–ø–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (init_db.py)
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–¢–∞–±–ª–∏—Ü—ã**: dialogs, utterances, utterance_embeddings, faiss_indexes, qa_pairs, chat_history, search_cache, callback_phrases, raw_llm_analyses, embeddings
- **Foreign keys**: –í–∫–ª—é—á–µ–Ω—ã —Å –∫–∞—Å–∫–∞–¥–Ω—ã–º —É–¥–∞–ª–µ–Ω–∏–µ–º

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ RTF —Ñ–∞–π–ª–æ–≤ (pipeline.py)
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: 1 –¥–∏–∞–ª–æ–≥ –æ–±—Ä–∞–±–æ—Ç–∞–Ω, 11 —Ä–µ–ø–ª–∏–∫ –∏–∑–≤–ª–µ—á–µ–Ω–æ
- **–≠–º–±–µ–¥–¥–∏–Ω–≥–∏**: 11 —Ä–µ–ø–ª–∏–∫ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- **–ú–æ–¥–µ–ª—å**: Qwen/Qwen3-Embedding-0.6B –Ω–∞ CUDA
- **–í—Ä–µ–º—è**: ~5 —Å–µ–∫—É–Ω–¥

### 3. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ FAISS –∏–Ω–¥–µ–∫—Å–æ–≤ (indexer.py)
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: 2 –∏–Ω–¥–µ–∫—Å–∞ —Å–æ–∑–¥–∞–Ω—ã (CallBack, all)
- **–†–µ–ø–ª–∏–∫ –≤ –∏–Ω–¥–µ–∫—Å–∞—Ö**: 11 –≤ –∫–∞–∂–¥–æ–º
- **–§–∞–π–ª—ã**: faiss_index_CallBack.index, faiss_index_all.index, ids_*.json
- **–í—Ä–µ–º—è**: ~1 —Å–µ–∫—É–Ω–¥–∞

### 4. GUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (gui.py)
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏)
- **–ü—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã**:
  - ‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è QA-–ø–∞—Ä—ã ‚Üí ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
  - ‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é GPU ‚Üí ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω fallback –Ω–∞ CPU
  - ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ Ollama ‚Üí ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ
- **–ö–Ω–æ–ø–∫–∏**: –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ–≤—ã–µ (.rtf), –ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å (FAISS), –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã/–¥–∞–Ω–Ω—ã–µ
- **–§—É–Ω–∫—Ü–∏–∏**: –ü–æ–∏—Å–∫, –∞–Ω–∞–ª–∏–∑, —ç–∫—Å–ø–æ—Ä—Ç, —á–∞—Ç

### 5. –ê–Ω–∞–ª–∏–∑ –º–µ—Ç–æ–¥–æ–≤ (analysis_methods.py)
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- **–î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç–æ–¥—ã**:
  - ‚úÖ hierarchical: –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
  - ‚úÖ rolling: –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ
  - ‚úÖ facts: –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ñ–∞–∫—Ç–æ–≤
  - ‚úÖ classification: –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–∏–∞–ª–æ–≥–æ–≤
  - ‚úÖ callback_classifier: –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–≤–æ–Ω–∫–æ–≤
  - ‚úÖ fast_phrase_classifier: –±—ã—Å—Ç—Ä–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ —Å–ª–æ–≤–∞—Ä—é

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è QA-–ø–∞—Ä—ã**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ context_summary (tuple ‚Üí string)
2. **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é**: –î–æ–±–∞–≤–ª–µ–Ω fallback –Ω–∞ CPU –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å GPU
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ Ollama**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞
4. **–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å NumPy**: –ü–æ–Ω–∏–∂–µ–Ω–∞ –≤–µ—Ä—Å–∏—è –¥–æ <2.0
5. **–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ foreign keys**: –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–∞—Å–∫–∞–¥–Ω—ã–µ —É–¥–∞–ª–µ–Ω–∏—è

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö

- **–î–∏–∞–ª–æ–≥–æ–≤**: 1
- **–†–µ–ø–ª–∏–∫**: 11
- **–≠–º–±–µ–¥–¥–∏–Ω–≥–æ–≤**: 11
- **FAISS –∏–Ω–¥–µ–∫—Å–æ–≤**: 2 (CallBack, all)
- **–¢–µ–º—ã**: CallBack, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–¥–æ–≥–æ–≤–æ—Ä–∞

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–ó–∞–ø—É—Å–∫ GUI**: `python gui.py`
2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ–≤—ã–µ (.rtf)"
3. **–ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å (FAISS)"
4. **Ollama**: –ó–∞–ø—É—Å—Ç–∏—Ç–µ `ollama serve` –¥–ª—è —Ä–∞–±–æ—Ç—ã —á–∞—Ç–∞
5. **GPU**: –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –ø–∞–º—è—Ç—å—é –º–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ CPU

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. GUI –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω —Å —Ä–∞–±–æ—á–∏–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.
